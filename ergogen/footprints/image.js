// https://github.com/auryn31/avocado/blob/main/ergogen/footprints/avocado.js

// 1. Draw image
// 2. Convert to White/Black and SVG (convertio)
// 3. Optimize it https://svgomg.net/
// 4. path to points
// 5. copy points array

module.exports = {
  params: {
    scale: 0.01,
  },
  body: (params) => {
    const allPoints = [
      [
      [135.71806755161285,27.472648487091064],
[129.82604427568614,35.5478693780303],
[126.72342023509712,43.200020282397766],
[134.56690034606962,49.398657791620124],
[142.04811089396853,56.0252394682306],
[149.14751488113404,63.063298408508295],
[155.8614202029109,70.47993909060955],
[162.19549337258738,78.21250960216369],
[168.20352075945513,86.21665927677564],
[176.06440034878997,89.97313477043808],
[186.04479264454076,89.26908421763964],
[189.90762126336432,85.57113295746781],
[184.20961641664803,77.3655273541957],
[178.25150886978219,69.3247560552895],
[172.00764909138604,61.535400169995874],
[165.41019315229227,54.003336223125544],
[158.4739459856331,46.805709902910195],
[151.1886059354603,39.96144562108738],
[143.5593180125784,33.48508976950261],
[76.23433553349972,103.5635860133171],
[76.44946836856938,113.56576191730052],
[76.66446252217679,123.56149010083358],
[76.98936655044555,133.43515504074094],
[86.96768824940767,132.7385106488691],
[96.9354262999905,132.04260516274823],
[106.91899757836198,131.34559426735348],
[116.89462546869355,130.64913794585374],
[126.87300826951244,129.95248928810759],
[136.83917345077077,129.25669361309798],
[146.40555368471144,127.97895890843864],
[150.2369922127947,118.74362286591715],
[154.06628735131025,109.51345327009258],
[149.31584737295304,105.80728062525414],
[139.3083150575738,105.48517765423861],
[129.32532470939506,105.16386459229369],
[119.32795468794043,104.84208870541465],
[109.34088841077893,104.5206444554012],
[99.33880341434589,104.198716812085],
[89.34719658116177,103.87712641949227],
[79.34022276596724,103.55504142439364],
[192.8954667724371,106.83251082038879],
[182.9273584019013,107.53505399015174],
[173.67285988988914,109.22663817673363],
[169.83536008935167,118.47726359004645],
[166.01018276313877,127.69818461246231],
[162.38113839568263,136.83940040275183],
[171.97600376219165,139.6652692261208],
[177.56768393639473,136.88271103809774],
[180.63164685059337,127.40557696036997],
[186.10864451673905,119.06506069261862],
[193.65079570594895,112.5575248413654],
[201.40987008595465,108.23982668733598],
[203.0105271077156,127.94712389850615],
[196.7277610991001,135.54460566824673],
[195.2914866861552,145.3012423239499],
[201.49347533798212,152.57229275512694],
[207.12997149485346,148.6237399268001],
[210.96457592622096,139.38001924451882],
[214.7949912244007,130.14639691208862],
[232.3871998134665,134.71893022636883],
[228.55237036544457,143.9624369286392],
[228.50831349029392,151.64329480476496],
[237.70866200882193,155.54504780490697],
[246.92039659979423,159.45220089186606],
[255.08087468271327,165.10957377375385],
[260.71743749999996,173.32785937500003],
[264.33774295480634,182.6461385160285],
[266.62750830512215,192.35961155814775],
[268.0186492552791,202.274366616497],
[268.7693747993275,212.24101911856252],
[269.0391713994628,222.22896621726028],
[268.93107711921823,232.23043093428427],
[268.53328797250515,242.22666976571472],
[267.9112346050116,252.20395083062215],
[267.11420281766453,262.1695544776932],
[266.1813507111593,272.13106000236144],
[265.1473837411993,282.07635848197856],
[264.04109215154494,292.0129713499034],
[262.88831178763655,301.9512363428556],
[261.71718800908377,311.87280086428905],
[260.5496482225508,321.81472260627834],
[259.4166952209472,331.7515753440857],
[258.35001606750484,341.6791277627945],
[257.3825739769638,351.6393331010323],
[256.5686056122482,361.61212462520416],
[255.9773726329505,371.5859472360294],
[255.69985008302328,381.5913932370637],
[255.86882724213692,391.5848331455104],
[256.6245908020511,401.5507955524623],
[258.3959364686884,411.38322371049554],
[261.932808157294,420.7209344832786],
[267.8760243517383,428.71119499198346],
[276.30580588718215,433.9557714940635],
[286.1111895294859,435.6047838700265],
[295.97332169324153,434.09176158320906],
[305.32670210851353,430.62073397904453],
[314.2167470245361,426.0237480545044],
[322.6890941396653,420.7228004124016],
[330.84861891579624,414.9404063078165],
[338.74767947360357,408.8327187410056],
[336.2719611476827,403.24991706964937],
[327.7047295489162,398.0900303278715],
[319.55486669446077,400.81597939161725],
[311.36118634855,406.5467253693641],
[302.8185487210154,411.7344566423893],
[293.7407703118325,415.9133777813912],
[283.9553626020551,417.48991772476586],
[277.37399086855913,410.69568694640793],
[274.89424286646954,401.0251461850004],
[273.86639067305276,391.09364612743104],
[273.71385150174893,381.09871787502897],
[274.0355521013968,371.09741250361196],
[274.66516423073506,361.11744202397296],
[275.50641321338435,351.153536355685],
[276.4968508904147,341.2012344142755],
[277.58666739588915,331.2699057836373],
[278.7390557441373,321.3298366173995],
[279.91775816872075,311.4023732194796],
[281.0950847667602,301.4706917962052],
[282.24309554323486,291.539711687003],
[283.33679130564235,281.595837698222],
[284.3477140084179,271.65295772093623],
[285.2500860882717,261.6813975846352],
[286.00938845858366,251.71216444315456],
[286.5904938991746,241.73675338388443],
[286.95118084390606,231.7400900564968],
[287.03860361776304,221.74502026953041],
[286.7881592556635,211.74904026647923],
[286.0972650432248,201.76341852364487],
[284.8378241376737,191.85709427256413],
[282.83992176008223,182.05015175867078],
[279.90891844465585,172.5009161866158],
[275.7471324162139,163.41777627166172],
[270.13540036870313,155.14880748379903],
[262.9758204950833,148.1929862023766],
[254.41469562358327,143.08574667222257],
[245.21390612675341,139.17675818311557],
[236.0025179587677,135.26913511128345],
[124.0859733932848,150.71007721263823],
[114.27150507674364,152.4676635915637],
[105.12815835960953,156.4586046088338],
[99.00191069009153,163.95353718427012],
[95.1716715288758,173.18654606215657],
[91.33919213867186,182.42495513916018],
[87.50508016425276,191.66729965306934],
[83.67217961411073,200.90672396000605],
[81.00249174184212,209.66037752288858],
[90.24272796075253,213.49365036977528],
[99.48253831648174,217.32674654912555],
[108.71294244913219,221.15594059668334],
[117.9435157198049,224.9852048104331],
[127.18715878595088,228.8198909734615],
[136.42487792354817,232.65211961982968],
[145.66693411256978,236.48614747360625],
[154.89879266455978,240.3159448808651],
[164.1305011543744,244.1456800354662],
[173.36248890744133,247.97553104124438],
[182.60048961365194,251.8078764951589],
[191.84935203238206,255.64472788449376],
[201.07926934544852,259.4737199770097],
[210.32627358606828,263.30980050902815],
[214.74768343331013,255.52722791279362],
[218.58076682451835,246.28736285709005],
[222.41184457039085,237.0523325232956],
[226.24654568866742,227.80856784468196],
[230.0782550435066,218.57201498162743],
[231.18840011697262,208.94900718834248],
[227.6172038742965,199.63934047699252],
[221.95128464762587,191.41061128920407],
[215.0580849983074,184.1888223719592],
[207.37318171843143,177.80550268867609],
[199.13697680752287,172.12978729680557],
[190.50352181633735,167.09935932252785],
[181.53415532398364,162.67151157597047],
[172.29882148393222,158.85855532077198],
[162.8132194367647,155.66794161289928],
[153.1480251863024,153.14623160166695],
[143.29525235334015,151.365000520988],
[133.34709361467694,150.48654249831924],
[422.6556704338973,195.8435590440836],
[418.2646408530288,204.83170039254279],
[413.87448869703906,213.81804571146324],
[409.48533714157327,222.8023428686082],
[405.0959614818575,231.78709875203538],
[400.7043012690328,240.7765309615687],
[396.32068758033205,249.74949247901077],
[391.92371245969116,258.74980394631854],
[387.5377455623154,267.7275823231792],
[383.14623684475583,276.7167044321241],
[378.76048492392005,285.6940427665089],
[374.37103301702933,294.67895472276007],
[369.9783475080944,303.67048564426807],
[365.5942456630413,312.64444638483417],
[361.1983359973251,321.6425769377829],
[356.81341350639536,330.61821748510056],
[352.42128608406745,339.6086060409706],
[352.3900143509209,347.31329242756965],
[360.9464035964697,352.46754911109946],
[369.5236883722083,357.63439298801734],
[377.4339193582535,359.5417703666688],
[383.329485258588,351.4736274743685],
[389.22868871927733,343.400506543112],
[395.1257094208513,335.3303727402735],
[401.0255030630283,327.2564441395488],
[406.9313708827786,319.17420296401053],
[412.83192393735834,311.0992350995607],
[418.72966274147836,303.02811856596304],
[424.62986360102957,294.9536326840512],
[430.5333549862928,286.87464368368],
[436.4260843759125,278.8103825856213],
[442.32657826553753,270.73549568902376],
[448.22845011055745,262.65872304622076],
[454.13023116617876,254.58207464964846],
[460.02886646076473,246.50973125957887],
[465.922878135288,238.4437153413715],
[471.83119333169645,230.35812490557163],
[477.72539274247,222.29185206836462],
[471.17553543118277,216.71943763553534],
[462.61874083427153,211.56530893191277],
[454.05119567877784,206.4047047003407],
[445.48441498246603,201.24456093570728],
[436.91210364574124,196.08108582635367],
[428.3509527511597,190.92433313560485],
[70.59464112327434,232.43244480012913],
[70.72014214463532,240.04164481834323],
[79.95103867244252,243.87110152672264],
[89.19365234505894,247.7054191171039],
[98.42300069496966,251.53423356064874],
[107.67280999510665,255.3715362721389],
[116.89901904554455,259.1990483707393],
[126.14085950336491,263.0330451913472],
[135.3730303999863,266.8630305742913],
[144.61951707395272,270.69895488737353],
[153.8503586580511,274.52838880224056],
[163.08816846699818,278.36071349974304],
[172.3203588464293,282.1907069651716],
[181.56123535584308,286.02430388976927],
[190.80077614307984,289.8573466872313],
[199.47450125955044,292.3410791633725],
[203.30722148895262,283.10254458618164],
[197.95195240871064,277.66634564244254],
[188.7217879346793,273.83719262810126],
[179.48541677312474,270.00546475647496],
[170.24114089871756,266.1704575982084],
[160.99831935729483,262.3360537730186],
[151.75856607473455,258.50292282142766],
[142.53775635641898,254.6776506470377],
[133.29922006212172,250.84502456557001],
[124.06526474320722,247.01429891130974],
[114.8186197058026,243.1783089008244],
[105.58036837097839,239.34580103538934],
[96.3377908425503,235.51149843950014],
[87.10440826031495,231.68101038624775],
[77.87614799462258,227.85264733671391],
[59.09234793977625,260.1576507123173],
[55.26658008080162,269.37929540370453],
[51.43177901647053,278.6227137659709],
[54.167076764490446,285.1389578656007],
[63.403171411540356,288.97059556054813],
[72.65267834911077,292.80779740786704],
[81.89425161907448,296.64170793552955],
[91.12304324033857,300.47031593557256],
[91.16784130110483,308.10372539927255],
[87.33927568844163,317.33254723776633],
[83.50707232881251,326.57013792653964],
[79.67272186596968,335.812904243742],
[75.84413157592068,345.0417855674897],
[72.01134164016648,354.28079020788357],
[68.17598438655213,363.5259834111836],
[64.34250639004263,372.7666466336072],
[60.512885573069155,381.9980120598485],
[56.6803883059345,391.23631121760985],
[52.84802007765593,400.474299325037],
[49.018790963238125,409.7047205456761],
[45.18598397194437,418.9437662987351],
[41.351607117666575,428.1865962329357],
[37.5201561717987,437.4223732156754],
[33.69334720828011,446.6469606218443],
[29.861380386352536,455.8839811325073],
[26.024374460847582,465.13314848714435],
[22.192646296601275,474.36959370945044],
[18,481.543032995224],
[18,491.5426989211701],
[25.55350521192141,494],
[35.543993915835394,494],
[45.540101465800085,494],
[55.5384721069336,494],
[65.54694722634741,494],
[75.55406547257238,494],
[85.55298448957936,494],
[95.54846157169342,494],
[105.55586724036675,494],
[115.5524882940799,494],
[119.54460453881586,485.0122507081058],
[123.37375002519512,475.78214886290044],
[127.20780213931576,466.5402196598863],
[131.0408895725049,457.30061580681706],
[134.8714382480481,448.067131593682],
[138.70304606681552,438.83109433056165],
[142.5392275896982,429.5840322173946],
[146.3690857515252,420.352212477952],
[150.20210648083687,411.11276941365],
[154.03495849175272,401.87373304269056],
[157.8674964897334,392.6354535955363],
[161.6995637147422,383.39830894007173],
[165.5277942239456,374.17041263460084],
[169.36160126682074,364.9290741724095],
[173.18998068597185,355.70081892158436],
[177.0219682185683,346.4638663635694],
[180.8539814189109,337.22685193381005],
[184.68753779653088,327.9861176967239],
[188.5199162301771,318.7482228771747],
[191.78413039462268,309.750113258861],
[182.53949204051497,305.91495572513344],
[173.30471312901375,302.08388840176804],
[164.06701538379878,298.25161019413895],
[154.84010236888096,294.4238060544034],
[145.5956849128368,290.58874016069893],
[136.35827791918803,286.75658257196443],
[127.13234941141657,282.9291868570753],
[117.88514736747928,279.0929657712663],
[108.65398906592839,275.2634004655024],
[99.41280714047309,271.4296768384219],
[90.17336730021728,267.59667591902576],
[80.94438093090058,263.76801164388655],
[71.70176202864013,259.93369188397656],
[62.474555291911585,256.1057658931343],
[39.397403580655805,307.63196170605136],
[35.563783636607404,316.87265120902373],
[31.732813990790277,326.10695234189086],
[27.902633542309925,335.33935116632574],
[24.068563365906122,344.58112592486884],
[20.24010409371229,353.80937596672334],
[18,363.3630933491681],
[18,373.36459518991353],
[18,383.36503906679394],
[18,393.37861884773224],
[18,403.375075653135],
[18,413.3726724273116],
[18,423.3690684660261],
[18,433.3754248173482],
[20.248984375,432.08080468750006],
[24.080824940116145,422.8441215247479],
[27.91398718997945,413.60425243005454],
[31.74316771618971,404.37398131293867],
[35.57406588584185,395.13956980219484],
[39.41137257596151,385.8897105002148],
[43.24055098098419,376.659444496239],
[47.07334199562691,367.42047026709463],
[50.906305084804195,358.1810812508711],
[54.73373551835343,348.95502874649264],
[58.569422785536375,339.70907307680585],
[62.3977917175815,330.4807583140928],
[66.23296798706055,321.23603440856937],
[70.06466799474788,311.9996900606542],
[61.761840779656545,307.77732227645816],
[52.53548762908648,303.94973915715707],
[43.28666282199323,300.1128335968256],
[337.5018597828457,370.1493237643149],
[333.11340350770945,379.1309915647506],
[340.3447722171116,384.6899309943968],
[348.90262116634847,389.84409002064166],
[356.1861625446309,388.6192700242527],
[362.086392838771,380.5440007375225],
[361.45294536384944,373.78681716625385],
[352.8916342926026,368.62933570098875],
[344.32216568120947,363.4669399928282],
      ],
    ].flat();
    const chunks = [];
    let currentChunk = [];
    for (let i = 1; i < allPoints.length; i++) {
      const p1 = allPoints[i - 1];
      const p2 = allPoints[i];
      const distance = Math.sqrt((p2[0] - p1[0]) ** 2 + (p2[1] - p1[1]) ** 2);
      if (distance > 50) {
        chunks.push(currentChunk);
        currentChunk = [];
      } else {
        currentChunk.push(p1);
      }
    }
    chunks.push(currentChunk);

    const pos = ([x, y]) => {
      let xPos = 0;
      let yPos = 0;
      if (params.x === 0) {
        xPos = x * params.scale;
      } else {
        xPos = x * params.scale + params.x;
      }
      if (params.y === 0) {
        yPos = y * params.scale;
      } else {
        yPos = y * params.scale + params.y;
      }
      return `(xy ${xPos} ${yPos})`;
    };
    const points = chunks
      .map((p) => {
        return p.map(pos).join(" ");
      })
      // fill none/solid
      .map((p) => {
        return `(gr_poly
                (pts${p})
                (stroke (width 0) (type solid)) (fill none) (layer "B.Mask")
            )
            (gr_poly
                (pts${p})
                (stroke (width 0) (type solid)) (fill solid) (layer "B.Cu")
            )
            (gr_poly
                (pts${p})
                (stroke (width 0) (type solid)) (fill none) (layer "F.Mask")
            )
            (gr_poly
                (pts${p})
                (stroke (width 0) (type solid)) (fill none) (layer "F.Cu")
            )`;
      })
      .join("\n");
    return points;
  },
};